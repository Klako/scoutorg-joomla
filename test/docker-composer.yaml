version: '3.2'

services:
  joomla:
    build: './joomla/'
    ports:
      - '8080:80'
    depends_on:
      - mysql
      - mock-server
    networks:
      - frontend
      - backend
    volumes:
      - '../component/admin:/var/www/htdocs/administrator/components/com_scoutorg'
      - '../component/site:/var/www/htdocs/components/com_scoutorg'
  mysql:
    image: mysql:5.7
    networks: 
      - backend
    
  mock-server:
    build: './mock-server/'

networks:
  frontend:
  backend:
